{"ast":null,"code":"import _classCallCheck from\"/home/mastercalin/Desktop/full-stack-app/social-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mastercalin/Desktop/full-stack-app/social-client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/mastercalin/Desktop/full-stack-app/social-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/mastercalin/Desktop/full-stack-app/social-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/mastercalin/Desktop/full-stack-app/social-client/node_modules/@babel/runtime/helpers/esm/inherits\";import _objectSpread from\"/home/mastercalin/Desktop/full-stack-app/social-client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{Component,Fragment}from\"react\";import withStyles from\"@material-ui/core/styles/withStyles\";import{Link}from\"react-router-dom\";import dayjs from\"dayjs\";import EditDetails from\"./EditDetails\";import MyButton from\"../../util/MyButton\";import ProfileSkeleton from\"../../util/ProfileSkeleton\";//MUI\nimport Button from\"@material-ui/core/Button\";import MuiLink from\"@material-ui/core/Link\";import Typography from\"@material-ui/core/Typography\";import Paper from\"@material-ui/core/Paper\";//Icons\nimport LocationOn from\"@material-ui/icons/LocationOn\";import LinkIcon from\"@material-ui/icons/Link\";import CalendarToday from\"@material-ui/icons/CalendarToday\";import EditIcon from\"@material-ui/icons/Edit\";import KeyboardReturn from\"@material-ui/icons/KeyboardReturn\";//Redux\nimport{connect}from\"react-redux\";import{logoutUser,uploadImage}from\"../../redux/actions/userActions\";var styles=function styles(theme){return _objectSpread({},theme.spreadThis);};var Profile=/*#__PURE__*/function(_Component){_inherits(Profile,_Component);function Profile(){var _getPrototypeOf2;var _this;_classCallCheck(this,Profile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Profile)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.handleImageChange=function(event){var image=event.target.files[0];var formData=new FormData();formData.append(\"image\",image,image.name);_this.props.uploadImage(formData);//send to server\n};_this.handleEditPicture=function(){var fileInput=document.getElementById(\"imageInput\");fileInput.click();};_this.handleLogout=function(){_this.props.logoutUser();};return _this;}_createClass(Profile,[{key:\"render\",value:function render(){var _this$props=this.props,classes=_this$props.classes,_this$props$user=_this$props.user,_this$props$user$cred=_this$props$user.credentials,handle=_this$props$user$cred.handle,createdAt=_this$props$user$cred.createdAt,imageUrl=_this$props$user$cred.imageUrl,bio=_this$props$user$cred.bio,website=_this$props$user$cred.website,location=_this$props$user$cred.location,loading=_this$props$user.loading,authenticated=_this$props$user.authenticated;var profileMarkup=!loading?authenticated?React.createElement(Paper,{className:classes.paper},React.createElement(\"div\",{className:classes.profile},React.createElement(\"div\",{className:\"image-wrapper\"},React.createElement(\"img\",{src:imageUrl,alt:\"profile\",className:\"profile-image\"}),React.createElement(\"input\",{type:\"file\",id:\"imageInput\",hidden:\"hidden\",onChange:this.handleImageChange}),React.createElement(MyButton,{tip:\"Edit profile picture\",onClick:this.handleEditPicture,btnClassName:\"button\"},React.createElement(EditIcon,{color:\"primary\"}))),React.createElement(\"hr\",null),React.createElement(\"div\",{className:\"profile-details\"},React.createElement(MuiLink,{component:Link,to:\"/users/\".concat(handle),color:\"primary\",variant:\"h5\"},\"@\",handle),React.createElement(\"hr\",null),bio&&React.createElement(Typography,{variant:\"body2\"},bio),React.createElement(\"hr\",null),location&&React.createElement(Fragment,null,React.createElement(LocationOn,{color:\"primary\"}),\" \",React.createElement(\"span\",null,location),React.createElement(\"hr\",null)),website&&React.createElement(Fragment,null,React.createElement(LinkIcon,{color:\"primary\"}),React.createElement(\"a\",{href:website,target:\"_blank\",rel:\"noopener noreferrer\"},\"\",website),React.createElement(\"hr\",null)),React.createElement(CalendarToday,{color:\"primary\"}),\" \",React.createElement(\"span\",null,\" Joined \",dayjs(createdAt).format(\"MMM YYYY\"))),React.createElement(MyButton,{tip:\"Logout\",onClick:this.handleLogout},React.createElement(KeyboardReturn,{color:\"primary\"})),React.createElement(EditDetails,null))):React.createElement(Paper,{className:classes.paper},React.createElement(Typography,{variant:\"body2\",align:\"center\"},\"No profile found, please login again\"),React.createElement(\"div\",{className:classes.buttons},React.createElement(Button,{variant:\"contained\",color:\"primary\",component:Link,to:\"/login\"},\"Login\"),React.createElement(Button,{variant:\"contained\",color:\"secondary\",component:Link,to:\"/signup\"},\"Signup\"))):React.createElement(ProfileSkeleton,null);return profileMarkup;}}]);return Profile;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user};};var mapActionsToProps={logoutUser:logoutUser,uploadImage:uploadImage};export default connect(mapStateToProps,mapActionsToProps)(withStyles(styles)(Profile));","map":{"version":3,"sources":["/home/mastercalin/Desktop/full-stack-app/social-client/src/components/profile/Profile.js"],"names":["React","Component","Fragment","withStyles","Link","dayjs","EditDetails","MyButton","ProfileSkeleton","Button","MuiLink","Typography","Paper","LocationOn","LinkIcon","CalendarToday","EditIcon","KeyboardReturn","connect","logoutUser","uploadImage","styles","theme","spreadThis","Profile","handleImageChange","event","image","target","files","formData","FormData","append","name","props","handleEditPicture","fileInput","document","getElementById","click","handleLogout","classes","user","credentials","handle","createdAt","imageUrl","bio","website","location","loading","authenticated","profileMarkup","paper","profile","format","buttons","mapStateToProps","state","mapActionsToProps"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport { Link } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\nimport EditDetails from \"./EditDetails\";\nimport MyButton from \"../../util/MyButton\";\nimport ProfileSkeleton from \"../../util/ProfileSkeleton\";\n//MUI\nimport Button from \"@material-ui/core/Button\";\nimport MuiLink from \"@material-ui/core/Link\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\n//Icons\nimport LocationOn from \"@material-ui/icons/LocationOn\";\nimport LinkIcon from \"@material-ui/icons/Link\";\nimport CalendarToday from \"@material-ui/icons/CalendarToday\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport KeyboardReturn from \"@material-ui/icons/KeyboardReturn\";\n//Redux\nimport { connect } from \"react-redux\";\nimport { logoutUser, uploadImage } from \"../../redux/actions/userActions\";\n\nconst styles = theme => ({\n  ...theme.spreadThis\n});\n\nclass Profile extends Component {\n  handleImageChange = event => {\n    const image = event.target.files[0];\n    const formData = new FormData();\n    formData.append(\"image\", image, image.name);\n    this.props.uploadImage(formData);\n    //send to server\n  };\n  handleEditPicture = () => {\n    const fileInput = document.getElementById(\"imageInput\");\n    fileInput.click();\n  };\n  handleLogout = () => {\n    this.props.logoutUser();\n  };\n  render() {\n    const {\n      classes,\n      user: {\n        credentials: { handle, createdAt, imageUrl, bio, website, location },\n        loading,\n        authenticated\n      }\n    } = this.props;\n\n    let profileMarkup = !loading ? (\n      authenticated ? (\n        <Paper className={classes.paper}>\n          <div className={classes.profile}>\n            <div className=\"image-wrapper\">\n              <img src={imageUrl} alt=\"profile\" className=\"profile-image\" />\n              <input\n                type=\"file\"\n                id=\"imageInput\"\n                hidden=\"hidden\"\n                onChange={this.handleImageChange}\n              />\n              <MyButton\n                tip=\"Edit profile picture\"\n                onClick={this.handleEditPicture}\n                btnClassName=\"button\"\n              >\n                <EditIcon color=\"primary\" />\n              </MyButton>\n            </div>\n            <hr />\n            <div className=\"profile-details\">\n              <MuiLink\n                component={Link}\n                to={`/users/${handle}`}\n                color=\"primary\"\n                variant=\"h5\"\n              >\n                @{handle}\n              </MuiLink>\n              <hr />\n              {bio && <Typography variant=\"body2\">{bio}</Typography>}\n              <hr />\n              {location && (\n                <Fragment>\n                  <LocationOn color=\"primary\" /> <span>{location}</span>\n                  <hr />\n                </Fragment>\n              )}\n              {website && (\n                <Fragment>\n                  <LinkIcon color=\"primary\" />\n                  <a href={website} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {\"\"}\n                    {website}\n                  </a>\n                  <hr />\n                </Fragment>\n              )}\n              <CalendarToday color=\"primary\" />{\" \"}\n              <span> Joined {dayjs(createdAt).format(\"MMM YYYY\")}</span>\n            </div>\n            <MyButton tip=\"Logout\" onClick={this.handleLogout}>\n              <KeyboardReturn color=\"primary\" />\n            </MyButton>\n            <EditDetails />\n          </div>\n        </Paper>\n      ) : (\n        <Paper className={classes.paper}>\n          <Typography variant=\"body2\" align=\"center\">\n            No profile found, please login again\n          </Typography>\n          <div className={classes.buttons}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              component={Link}\n              to=\"/login\"\n            >\n              Login\n            </Button>\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              component={Link}\n              to=\"/signup\"\n            >\n              Signup\n            </Button>\n          </div>\n        </Paper>\n      )\n    ) : (\n      <ProfileSkeleton />\n    );\n\n    return profileMarkup;\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nconst mapActionsToProps = { logoutUser, uploadImage };\n\nProfile.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  uploadImage: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  classes: PropTypes.object.isRequired\n};\n\nexport default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(withStyles(styles)(Profile));\n"]},"metadata":{},"sourceType":"module"}