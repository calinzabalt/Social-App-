{"ast":null,"code":"import _classCallCheck from\"/home/mastercalin/Desktop/full-stack-app/social-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mastercalin/Desktop/full-stack-app/social-client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/mastercalin/Desktop/full-stack-app/social-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/mastercalin/Desktop/full-stack-app/social-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/mastercalin/Desktop/full-stack-app/social-client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import axios from\"axios\";import Scream from\"../components/scream/Scream\";import StaticProfile from\"../components/profile/StaticProfile\";import Grid from\"@material-ui/core/Grid\";import ScreamSkeleton from\"../util/ScreamSkeleton\";import ProfileSkeleton from\"../util/ProfileSkeleton\";import{connect}from\"react-redux\";import{getUserData}from\"../redux/actions/dataActions\";var user=/*#__PURE__*/function(_Component){_inherits(user,_Component);function user(){var _getPrototypeOf2;var _this;_classCallCheck(this,user);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(user)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={profile:null,screamIdParam:null};return _this;}_createClass(user,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var handle=this.props.match.params.handle;var screamId=this.props.match.params.screamId;if(screamId)this.setState({screamIdParam:screamId});this.props.getUserData(handle);axios.get(\"/user/\".concat(handle)).then(function(res){_this2.setState({profile:res.data.user});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this$props$data=this.props.data,screams=_this$props$data.screams,loading=_this$props$data.loading;var screamIdParam=this.state.screamIdParam;var screamsMarkup=loading?React.createElement(ScreamSkeleton,null):screams===null?React.createElement(\"p\",null,\"No posts from this user\"):!screamIdParam?screams.map(function(scream){return React.createElement(Scream,{key:scream.screamId,scream:scream});}):screams.map(function(scream){if(scream.screamId!==screamIdParam)return React.createElement(Scream,{key:scream.screamId,scream:scream});else return React.createElement(Scream,{key:scream.screamId,scream:scream});});return React.createElement(Grid,{container:true,spacing:10},React.createElement(Grid,{item:true,sm:8,xs:12},screamsMarkup),React.createElement(Grid,{item:true,sm:4,xs:12},this.state.profile===null?React.createElement(ProfileSkeleton,null):React.createElement(StaticProfile,{profile:this.state.profile})));}}]);return user;}(Component);var mapStateToProps=function mapStateToProps(state){return{data:state.data};};export default connect(mapStateToProps,{getUserData:getUserData})(user);","map":{"version":3,"sources":["/home/mastercalin/Desktop/full-stack-app/social-client/src/pages/user.js"],"names":["React","Component","axios","Scream","StaticProfile","Grid","ScreamSkeleton","ProfileSkeleton","connect","getUserData","user","state","profile","screamIdParam","handle","props","match","params","screamId","setState","get","then","res","data","catch","err","console","log","screams","loading","screamsMarkup","map","scream","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\nimport Scream from \"../components/scream/Scream\";\nimport StaticProfile from \"../components/profile/StaticProfile\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport ScreamSkeleton from \"../util/ScreamSkeleton\";\nimport ProfileSkeleton from \"../util/ProfileSkeleton\";\n\nimport { connect } from \"react-redux\";\nimport { getUserData } from \"../redux/actions/dataActions\";\n\nclass user extends Component {\n  state = {\n    profile: null,\n    screamIdParam: null\n  };\n  componentDidMount() {\n    const handle = this.props.match.params.handle;\n    const screamId = this.props.match.params.screamId;\n\n    if (screamId) this.setState({ screamIdParam: screamId });\n\n    this.props.getUserData(handle);\n    axios\n      .get(`/user/${handle}`)\n      .then(res => {\n        this.setState({\n          profile: res.data.user\n        });\n      })\n      .catch(err => console.log(err));\n  }\n  render() {\n    const { screams, loading } = this.props.data;\n    const { screamIdParam } = this.state;\n\n    const screamsMarkup = loading ? (\n      <ScreamSkeleton />\n    ) : screams === null ? (\n      <p>No posts from this user</p>\n    ) : !screamIdParam ? (\n      screams.map(scream => <Scream key={scream.screamId} scream={scream} />)\n    ) : (\n      screams.map(scream => {\n        if (scream.screamId !== screamIdParam)\n          return <Scream key={scream.screamId} scream={scream} />;\n        else return <Scream key={scream.screamId} scream={scream} />;\n      })\n    );\n    return (\n      <Grid container spacing={10}>\n        <Grid item sm={8} xs={12}>\n          {screamsMarkup}\n        </Grid>\n        <Grid item sm={4} xs={12}>\n          {this.state.profile === null ? (\n            <ProfileSkeleton />\n          ) : (\n            <StaticProfile profile={this.state.profile} />\n          )}\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nuser.propTypes = {\n  getUserData: PropTypes.func.isRequired,\n  data: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  data: state.data\n});\n\nexport default connect(mapStateToProps, { getUserData })(user);\n"]},"metadata":{},"sourceType":"module"}