{"ast":null,"code":"import _classCallCheck from\"/home/mastercalin/Desktop/full-stack-app/social-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mastercalin/Desktop/full-stack-app/social-client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/mastercalin/Desktop/full-stack-app/social-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/mastercalin/Desktop/full-stack-app/social-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/mastercalin/Desktop/full-stack-app/social-client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import MyButton from\"../../util/MyButton\";import{Link}from\"react-router-dom\";//Icons\nimport FavoriteIcon from\"@material-ui/icons/Favorite\";import FavoriteBorder from\"@material-ui/icons/FavoriteBorder\";//Redux\nimport{connect}from\"react-redux\";import{likeScream,unlikeScream}from\"../../redux/actions/dataActions\";export var LikeButton=/*#__PURE__*/function(_Component){_inherits(LikeButton,_Component);function LikeButton(){var _getPrototypeOf2;var _this;_classCallCheck(this,LikeButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(LikeButton)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.likedScream=function(){if(_this.props.user.likes&&_this.props.user.likes.find(function(like){return like.screamId===_this.props.screamId;}))return true;else return false;};_this.likeScream=function(){_this.props.likeScream(_this.props.screamId);};_this.unlikeScream=function(){_this.props.unlikeScream(_this.props.screamId);};return _this;}_createClass(LikeButton,[{key:\"render\",value:function render(){var authenticated=this.props.user.authenticated;var likeButton=!authenticated?React.createElement(Link,{to:\"/login\"},React.createElement(MyButton,{tip:\"like\"},React.createElement(FavoriteBorder,{color:\"primary\"}))):this.likedScream()?React.createElement(MyButton,{tip:\"Undo like\",onClick:this.unlikeScream},React.createElement(FavoriteIcon,{color:\"primary\"})):React.createElement(MyButton,{tip:\"Like\",onClick:this.likeScream},React.createElement(FavoriteBorder,{color:\"primary\"}));return likeButton;}}]);return LikeButton;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user};};var mapActionsToProps={likeScream:likeScream,unlikeScream:unlikeScream};export default connect(mapStateToProps,mapActionsToProps)(LikeButton);","map":{"version":3,"sources":["/home/mastercalin/Desktop/full-stack-app/social-client/src/components/scream/LikeButton.js"],"names":["React","Component","MyButton","Link","FavoriteIcon","FavoriteBorder","connect","likeScream","unlikeScream","LikeButton","likedScream","props","user","likes","find","like","screamId","authenticated","likeButton","mapStateToProps","state","mapActionsToProps"],"mappings":"2rBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA;AACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,mCAA3B,CACA;AACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,CAAqBC,YAArB,KAAyC,iCAAzC,CAEA,UAAaC,CAAAA,UAAb,+YACEC,WADF,CACgB,UAAM,CAClB,GACE,MAAKC,KAAL,CAAWC,IAAX,CAAgBC,KAAhB,EACA,MAAKF,KAAL,CAAWC,IAAX,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2B,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,QAAL,GAAkB,MAAKL,KAAL,CAAWK,QAAjC,EAA/B,CAFF,CAIE,MAAO,KAAP,CAJF,IAKK,OAAO,MAAP,CACN,CARH,OASET,UATF,CASe,UAAM,CACjB,MAAKI,KAAL,CAAWJ,UAAX,CAAsB,MAAKI,KAAL,CAAWK,QAAjC,EACD,CAXH,OAYER,YAZF,CAYiB,UAAM,CACnB,MAAKG,KAAL,CAAWH,YAAX,CAAwB,MAAKG,KAAL,CAAWK,QAAnC,EACD,CAdH,6EAeW,IACCC,CAAAA,aADD,CACmB,KAAKN,KAAL,CAAWC,IAD9B,CACCK,aADD,CAEP,GAAMC,CAAAA,UAAU,CAAG,CAACD,aAAD,CACjB,oBAAC,IAAD,EAAM,EAAE,CAAC,QAAT,EACE,oBAAC,QAAD,EAAU,GAAG,CAAC,MAAd,EACE,oBAAC,cAAD,EAAgB,KAAK,CAAC,SAAtB,EADF,CADF,CADiB,CAMf,KAAKP,WAAL,GACF,oBAAC,QAAD,EAAU,GAAG,CAAC,WAAd,CAA0B,OAAO,CAAE,KAAKF,YAAxC,EACE,oBAAC,YAAD,EAAc,KAAK,CAAC,SAApB,EADF,CADE,CAKF,oBAAC,QAAD,EAAU,GAAG,CAAC,MAAd,CAAqB,OAAO,CAAE,KAAKD,UAAnC,EACE,oBAAC,cAAD,EAAgB,KAAK,CAAC,SAAtB,EADF,CAXF,CAeA,MAAOW,CAAAA,UAAP,CACD,CAjCH,wBAAgCjB,SAAhC,EA2CA,GAAMkB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAChCR,IAAI,CAAEQ,KAAK,CAACR,IADoB,CAAL,EAA7B,CAIA,GAAMS,CAAAA,iBAAiB,CAAG,CACxBd,UAAU,CAAVA,UADwB,CAExBC,YAAY,CAAZA,YAFwB,CAA1B,CAKA,cAAeF,CAAAA,OAAO,CAACa,eAAD,CAAkBE,iBAAlB,CAAP,CAA4CZ,UAA5C,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport MyButton from \"../../util/MyButton\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n//Icons\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport FavoriteBorder from \"@material-ui/icons/FavoriteBorder\";\n//Redux\nimport { connect } from \"react-redux\";\nimport { likeScream, unlikeScream } from \"../../redux/actions/dataActions\";\n\nexport class LikeButton extends Component {\n  likedScream = () => {\n    if (\n      this.props.user.likes &&\n      this.props.user.likes.find(like => like.screamId === this.props.screamId)\n    )\n      return true;\n    else return false;\n  };\n  likeScream = () => {\n    this.props.likeScream(this.props.screamId);\n  };\n  unlikeScream = () => {\n    this.props.unlikeScream(this.props.screamId);\n  };\n  render() {\n    const { authenticated } = this.props.user;\n    const likeButton = !authenticated ? (\n      <Link to=\"/login\">\n        <MyButton tip=\"like\">\n          <FavoriteBorder color=\"primary\" />\n        </MyButton>\n      </Link>\n    ) : this.likedScream() ? (\n      <MyButton tip=\"Undo like\" onClick={this.unlikeScream}>\n        <FavoriteIcon color=\"primary\" />\n      </MyButton>\n    ) : (\n      <MyButton tip=\"Like\" onClick={this.likeScream}>\n        <FavoriteBorder color=\"primary\" />\n      </MyButton>\n    );\n    return likeButton;\n  }\n}\n\nLikeButton.propTypes = {\n  user: PropTypes.object.isRequired,\n  screamId: PropTypes.string.isRequired,\n  likeScream: PropTypes.func.isRequired,\n  unlikeScream: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nconst mapActionsToProps = {\n  likeScream,\n  unlikeScream\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(LikeButton);\n"]},"metadata":{},"sourceType":"module"}